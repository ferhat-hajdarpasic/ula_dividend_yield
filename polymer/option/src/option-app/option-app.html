<link rel="import" href="/iron-demo-helpers/demo-pages-shared-styles.html">
<link rel="import" href="/paper-button/paper-button.html">
<link rel="import" href="/paper-checkbox/paper-checkbox.html">
<link rel="import" href="/paper-radio-button/paper-radio-button.html">
<link rel="import" href="/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="/paper-input/paper-input.html">
<link rel="import" href="/paper-item/paper-item.html">
<link rel="import" href="/paper-menu/paper-menu.html">
<link rel="import" href="/paper-spinner/paper-spinner.html">
<link rel="import" href="/paper-styles/color.html">
<link rel="import" href="/paper-styles/typography.html">
<link rel="import" href="form-snippet.html">

<link rel="import" href="/polymer/polymer.html">
<link rel="import" href="/iron-icons/iron-icons.html">
<link rel="import" href="/iron-ajax/iron-ajax.html">
<link rel="import" href="/marked-element/marked-element.html">
<link rel="import" href="/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/paper-styles/shadow.html">
<link rel="import" href="/prism-element/prism-highlighter.html">
<link rel="import" href="/prism-element/prism-theme-default.html">
<link rel="import" href="/iron-data-table/iron-data-table.html">

<dom-module id="option-app">
    <template>
        <style is="custom-style" include="prism-theme-default"></style>
        <style>
            :host {
                display: block;
                @apply(--shadow-elevation-2dp);
            }

            .demo {
                border-bottom: 1px solid var(--google-grey-300);
                background-color: white;
                margin: 0;
                padding: 20px;
            }

            .output {
                margin-top: 20px;
                word-wrap: break-word;
                @apply(--paper-font-common-code);
            }

            form > paper-button {
                width: 45%;
                margin-top: 20px;
            }

            form paper-button:not([disabled]) {
                background: var(--paper-light-blue-500);
                color: white;
            }

            button {
                margin-top: 20px;
            }

            paper-spinner {
                width: 14px;
                height: 14px;
                margin-right: 20px;
            }

            paper-dropdown-menu {
                display: block;
            }
        </style>
        <prism-highlighter></prism-highlighter>
        <div class="demo">
                <div class="vertical-section-container">
                    <h3>ASX Covered call option evaluation</h3>
                    <form is="iron-form" method="get" action="/" id="basic">
                        <div class="horizontal-section-container">
                            <paper-input name="name" label="Stock code" required></paper-input>
                            <paper-dropdown-menu label="Expiry month" name="expiry" required>
                                <paper-menu class="dropdown-content">
                                    <paper-item value="Jan 2017">Jan 2017</paper-item>
                                    <paper-item value="Feb 2017">Feb 2017</paper-item>
                                    <paper-item value="Mar 2017">Mar 2017</paper-item>
                                    <paper-item value="Apr 2017">Apr 2017</paper-item>
                                </paper-menu>
                            </paper-dropdown-menu>
                            <br>
                            <paper-button raised onclick="_submit(event)">Submit</paper-button>
                        </div>
                    </form>
                </div>
            <div>
                <iron-ajax url="https://saulis.github.io/iron-data-table/demo/users.json" last-response="{{users}}" auto></iron-ajax>
                <iron-data-table selection-enabled items="[[users.results]]">
                    <data-table-column name="Code">
                        <template>
                            [[item.user.name.first]]
                        </template>
                    </data-table-column>
                    <data-table-column name="Expiry">
                        <template>
                            [[item.user.name.first]]
                        </template>
                    </data-table-column>
                    <data-table-column name="Excercise">
                        <template>
                            [[foo]]
                        </template>
                    </data-table-column>
                    <data-table-column name="Offer">
                        <template>
                            <paper-input value="{{foo}}"></paper-input>
                        </template>
                    </data-table-column>
                    <data-table-column name="No. of Contracts">
                        <template>
                            <paper-input value="{{foo}}"></paper-input>
                        </template>
                    </data-table-column>
                    <data-table-column name="Commission">
                        <template>
                            [[foo]]
                        </template>
                    </data-table-column>
                    <data-table-column name="Net pay">
                        <template>
                            [[foo]]
                        </template>
                    </data-table-column>
                    <data-table-column name="Days holding position">
                        <template>
                            [[foo]]
                        </template>
                    </data-table-column>
                    <data-table-column name="% return">
                        <template>
                            [[foo]]
                        </template>
                    </data-table-column>
                    <data-table-column name="% prob of excercise">
                        <template>
                            [[foo]]
                        </template>
                    </data-table-column>
                </iron-data-table>
            </div>
        </div>
    </template>
    <script>
        function _submit(event) {
            Polymer.dom(event).localTarget.parentElement.submit();
        }
        function _reset(event) {
            var form = Polymer.dom(event).localTarget.parentElement
            form.reset();
            form.querySelector('.output').innerHTML = '';
        }

        Polymer({
            is: 'option-app',
            properties: {
                users: Object
            }
        });
    </script>
</dom-module>
